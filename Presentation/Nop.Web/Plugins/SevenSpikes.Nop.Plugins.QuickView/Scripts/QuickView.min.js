!function(r,e){var c="quick-view-button",n="."+c;function o(){var t=r(".quickViewWindow").data("kendoWindow");null!=t&&""!==t.content()&&t.close()}function i(){var t=r(".quickViewWindow #product-details-form").serialize();return t=t.replace(new RegExp("quickView_product_attribute","g"),"product_attribute")}function d(n){var t=r(".quickViewData").attr("data-retrieveQuickViewUrl");if(null!=t){var a={productId:n};r.ajax({beforeSend:function(){var t,a;t=r(".quickViewWindow").data("kendoWindow"),a=r("<div class='k-loading-mask'><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("700px").height("360px"),t.content(a),t.center(),t.open()},cache:!1,type:"POST",data:a,url:t}).done(function(t){var a;a=t,r(".quickViewWindow").data("kendoWindow").content(a);var i=r(".quickViewData").attr("data-accordionpanelsheightstyle");r("#accordion").accordion({collapsible:!0,icons:{header:"ui-icon-circle-arrow-e",activeHeader:"ui-icon-circle-arrow-s"},heightStyle:i});var e,o=r(".quickView").offset(),c=r(".quickView").height();r(window).height()<c?r(".quickView").css("top",r(document).scrollTop()+10):r(".quickView").css("top",o.top-c/4),0<(e=r(".quickViewAdjustPictureOnProductAttributeValueChange")).length&&r(document).on("quickView.product_attributes_changed",function(t){if(t.changedData&&t.changedData.pictureDefaultSizeUrl){var a=t.changedData.pictureDefaultSizeUrl;"true"===e.attr("data-isCloudZoomAvailable")?(a=a.substring(1,a.length-9),r('.quickViewWindow .cloudzoom-gallery[href*="'+a+'"]').click()):r(".quickViewWindow .gallery .picture img").attr("src",a)}}),function(){var t=r(".quickViewRentalInfo");if(0<t.length){var a=t.attr("data-datePickerFormat"),i="#"+t.attr("data-startDateControlId"),e="#"+t.attr("data-endDateControlId");r(i).datepicker({dateFormat:a}),r(e).datepicker({dateFormat:a})}}(),r.event.trigger({type:"nopQuickViewDataShownEvent",productId:n})}).fail(function(){alert("Loading the page failed."),o()})}}function u(a,t){var i=r(".quickViewData").attr("data-quickViewButtonText"),e=r(".quickViewData").attr("data-quickViewButtonTitle");null==i&&(i="Quick View");var o=r(t);r(o).each(function(){r(this).find(n).length<=0&&r(this).prepend('<div class="'+c+'"><a title="'+e+'">'+i+"</a></div>")}),r(n).off("click.quickview").on("click.quickview",function(){var t=r(this).parents(a).first().attr("data-productid");void 0!==t&&d(t)}),r.event.trigger({type:"nopQuickViewButtonsAddedCompleteEvent"})}function l(){var t,a,i=r("body");if(0<i.length){i.prepend('<div class="quickViewWindow"></div>');var e=null!=(a=r(".quickViewData").attr("data-isQuickViewPopupDraggable"))&&"True"===a,o=null!=(t=r(".quickViewData").attr("data-enableQuickViewPopupOverlay"))&&"True"===t,c=r(".quickViewWindow").kendoWindow({minHeight:"330px",minWidth:"660px",draggable:e,resizable:!1,modal:o,actions:["Close"],animation:!1,visible:!1,close:function(){r(".quickViewWindow").html(r("").html())}}).data("kendoWindow");c.wrapper.addClass("quickView"),r(document).on("click",".k-overlay",function(){c.close()})}}function s(t){var a=r(".quickViewData").attr("data-productselectorchild");return void 0!==a&&a!==t&&0<r(t+" "+a).length?t+" "+a:t}r(document).on("nopQuickViewDataShownEvent",function(){var t=".quickViewWindow #add-to-cart-button-"+r("#add-to-cart-details").attr("data-productid"),a=".quickViewWindow .add-to-wishlist-button";r(t).hasClass("nopAjaxCartProductVariantAddToCartButton")||(r(t).prop("onclick",null).off("click"),r(t).on("click",function(){var t=r("#add-to-cart-details").attr("data-url");r.ajax({cache:!1,url:t,data:i(),type:"post",success:AjaxCart.success_process,complete:AjaxCart.resetLoadWaiting,error:AjaxCart.ajaxFailure})}),r(a).prop("onclick",null).off("click"),r(a).on("click",function(){var t=r("#add-to-wishlist-details").attr("data-url");r.ajax({cache:!1,url:t,data:i(),type:"post",success:AjaxCart.success_process,complete:AjaxCart.resetLoadWaiting,error:AjaxCart.ajaxFailure})}))}),r(document).ready(function(){if(!(e.isMobile()||!e.isMobile()&&e.getViewPort().width<=768)){var t,a=null!=(t=r(".quickViewData").attr("data-productselector"))?t:"";if(""!==a){var i=s(a);u(a,i),r(document).on("nopAjaxCartProductAddedToCartEvent nopAjaxCartProductAddedToWishlistEvent",function(){o()}),r(document).on("nopAjaxFiltersFiltrationCompleteEvent newProductsAddedToPageEvent",function(){i=s(a),u(a,i)}),l()}}})}(jQuery,sevenSpikesCore);